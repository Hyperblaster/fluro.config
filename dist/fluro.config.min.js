angular.module("fluro.config",[]).provider("Fluro",function(){var config={apiURL:"https://apiv2.fluro.io",token:null};return{set:function(settings){config=settings},$get:function(){return config}}}).service("FluroTokenService",function($rootScope,$http,Fluro){var controller={};return controller.login=function(details,successCallback,errorCallback){$http.post(Fluro.apiURL+"/token/login",details).success(function(res){console.log("Token Success",res),successCallback&&successCallback(res)}).error(function(res){console.log("Token Error",res),errorCallback&&errorCallback(res)})},controller}).service("FluroAuthentication",function($q,Fluro){return{request:function(config){Fluro.token&&(config.headers.Authorization="Bearer "+Fluro.token);var date=new Date;if(Fluro.timezoneOffset&&String(Fluro.timezoneOffset).length){var websiteOffset=Fluro.timezoneOffset,viewerOffset=-1*date.getTimezoneOffset(),hoursDifference=websiteOffset-viewerOffset,offsetDifference=60*hoursDifference*1e3;date.setTime(date.getTime()+offsetDifference)}return config.headers["fluro-request-date"]=date.toUTCString(),config}}});